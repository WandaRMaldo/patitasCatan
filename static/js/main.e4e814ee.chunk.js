(this["webpackJsonpred-patitas"]=this["webpackJsonpred-patitas"]||[]).push([[0],{128:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),i=a.n(c),r=a(13),s=a.n(r),o=(a(128),a(17)),l=a(178),j=a(180),d=a(181),b=a(86),u=a(175),h=a(94),O=a.n(h),m=a(204),p=a(103),x=a(75);a(129),a(131);x.a.initializeApp({apiKey:"AIzaSyBMWo9PgPAuwNR4omiuWK9A1yNVL13wpY8",authDomain:"red-patitas-ec426.firebaseapp.com",databaseURL:"https://red-patitas-ec426.firebaseio.com",projectId:"red-patitas-ec426",storageBucket:"red-patitas-ec426.appspot.com",messagingSenderId:"387650695725",appId:"1:387650695725:web:7ba350164692401327fea4"});var f=x.a.auth(),v=x.a.firestore(),g=a(95),C=a.n(g),y=a(96),k=a.n(y),N=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"center",alignItems:"center",display:"flex",justifyContent:"center"},login:{color:"black"},link:{textDecoration:"none",color:"black"}}}));function w(e){var t=e.Link,a=i.a.useState(null),c=Object(o.a)(a,2),r=c[0],s=c[1],u=i.a.useState(null),h=Object(o.a)(u,2),x=h[0],v=h[1],g=function(){s(null)},y=function(){v(null)},w=N();return Object(n.jsx)("div",{className:w.root,children:Object(n.jsx)(l.a,{position:"static",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(d.a,{edge:"start",className:w.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(e){s(e.currentTarget)},children:Object(n.jsx)(O.a,{})}),Object(n.jsxs)(p.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:g,children:[Object(n.jsx)(m.a,{onClick:g,children:Object(n.jsx)(t,{className:w.link,to:"/patitasCatan/",children:"Inicio"})}),Object(n.jsx)(m.a,{onClick:g,children:Object(n.jsx)(t,{className:w.link,to:"/patitasCatan/veterinarias",children:"Veterinarias"})}),Object(n.jsx)(m.a,{onClick:g,children:Object(n.jsx)(t,{className:w.link,to:"/patitasCatan/lista",children:"Lista"})})]}),Object(n.jsxs)(b.a,{className:w.title,variant:"h6",noWrap:!0,children:[Object(n.jsx)(C.a,{fontSize:"large"}),"Patitas Catan"]}),Object(n.jsx)(d.a,{"aria-label":"account of current user",onClick:function(e){v(e.currentTarget)},color:"inherit",children:Object(n.jsx)(k.a,{})}),Object(n.jsxs)(p.a,{id:"menu-appbar",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:y,children:[Object(n.jsx)(m.a,{onClick:y,children:Object(n.jsx)(t,{className:w.link,to:"/patitasCatan/login",children:"Login"})}),Object(n.jsx)(m.a,{onClick:function(){return f.signOut()},children:Object(n.jsx)(t,{className:w.link,to:"/patitasCatan/login",children:"SingOut"})})]})]})})})}var S=a.p+"static/media/paw-solid.c36dbf3f.svg",E=a(97),A=a.n(E),I=a(98),V=a.n(I),W=a(99),L=a.n(W);function R(){return Object(n.jsx)("img",{src:S,alt:"Logo"})}var P=function(){return Object(n.jsxs)("div",{className:"foot",children:[Object(n.jsxs)("div",{className:"logoNombre",children:[Object(n.jsx)(R,{}),Object(n.jsx)("h1",{children:"Patitas Catan"})]}),Object(n.jsxs)("div",{className:"redes",children:[Object(n.jsx)(A.a,{className:"iconos"}),Object(n.jsx)(V.a,{className:"iconos"}),Object(n.jsx)(L.a,{className:"iconos"})]})]})},z=a(52),T=a.n(z),B=a(71),G=a(205),D=a(187),K=a(183),M=a(201),U=a(188),q=a(184),F=a(73),Y=a.n(F),H=a(182),J=a(11),Q=a(33),X=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Z=Object(J.g)((function(e){var t=e.history,a=X(),i=Object(c.useCallback)(function(){var e=Object(B.a)(T.a.mark((function e(a){var n,c,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,c=n.email,i=n.password,e.prev=2,e.next=5,f.createUserWithEmailAndPassword(c.value,i.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(K.a,{}),Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(G.a,{className:a.avatar,children:Object(n.jsx)(Y.a,{})}),Object(n.jsx)(b.a,{component:"h1",variant:"h5",children:"REGISTRO"}),Object(n.jsxs)("form",{className:a.form,onSubmit:i,noValidate:!0,children:[Object(n.jsxs)(q.a,{container:!0,spacing:2,children:[Object(n.jsx)(q.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email"})}),Object(n.jsx)(q.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(n.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"REGISTRARSE"}),Object(n.jsx)(J.b,{children:Object(n.jsx)(q.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(q.a,{item:!0,children:Object(n.jsx)(U.a,{component:Q.b,to:"/patitasCatan/login",variant:"body2",color:"secondary",children:"Ya tienes una cuenta? Login"})})})})]})]})]})})),$=i.a.createContext(),_=function(e){var t=e.children,a=Object(c.useState)(null),i=Object(o.a)(a,2),r=i[0],s=i[1],l=Object(c.useState)(!0),j=Object(o.a)(l,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){f.onAuthStateChanged((function(e){s(e),b(!1)}))}),[]),d?Object(n.jsx)(n.Fragment,{children:"Cargando..."}):Object(n.jsx)($.Provider,{value:{currentUser:r},children:t})},ee=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},blackbutton:{color:"black"}}})),te=Object(J.g)((function(e){var t=e.history,a=ee(),i=Object(c.useCallback)(function(){var e=Object(B.a)(T.a.mark((function e(a){var n,c,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,c=n.email,i=n.password,e.prev=2,e.next=5,f.signInWithEmailAndPassword(c.value,i.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.useContext)($).currentUser?Object(n.jsx)(J.a,{to:"/patitasCatan/"}):Object(n.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(K.a,{}),Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(G.a,{className:a.avatar,children:Object(n.jsx)(Y.a,{})}),Object(n.jsx)(b.a,{component:"h1",variant:"h5",children:"LOGIN"}),Object(n.jsxs)("form",{className:a.form,noValidate:!0,onSubmit:i,children:[Object(n.jsxs)(q.a,{container:!0,spacing:2,children:[Object(n.jsx)(q.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email"})}),Object(n.jsx)(q.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(n.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Entrar"}),Object(n.jsx)(J.b,{children:Object(n.jsx)(q.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(q.a,{item:!0,children:Object(n.jsx)(U.a,{component:Q.b,to:"/patitasCatan/registro",variant:"body2",color:"secondary",children:"No tienes una cuenta? Registrate"})})})})]})]})]})})),ae=a(38),ne=a(19),ce=a(195),ie=a(198),re=a(197),se=a(196),oe=a(199),le=a(142),je=a(100),de=a.n(je),be=a(102),ue=a(203),he=a(192),Oe=a(190),me=a(191),pe=a(189);function xe(e){var t=e.veterinariaKey,a=i.a.useState(!1),r=Object(o.a)(a,2),s=r[0],l=r[1],j=i.a.useState("paper"),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(c.useState)([]),O=Object(o.a)(h,2),m=O[0],p=O[1],x=function(e){return e.filter((function(e){return e.id===t}))},f=function(){l(!1)},g=i.a.useRef(null);i.a.useEffect((function(){if(s){var e=g.current;null!==e&&e.focus()}}),[s]),Object(c.useEffect)((function(){return v.collection("comentarios").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),p(x(t))}))}),[x]);var C,y=m.length?m.map((function(e,t){return Object(n.jsxs)("ul",{children:[Object(n.jsx)("h3",{children:e.usuario}),Object(n.jsx)("li",{children:e.comentario})]},t)})):Object(n.jsx)("p",{children:"No hay comentarios"});return Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{onClick:(C="paper",function(){l(!0),u(C)}),children:"Comentarios"}),Object(n.jsxs)(ue.a,{open:s,onClose:f,scroll:b,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(pe.a,{id:"scroll-dialog-title",children:"Comentarios de Usuarios"}),Object(n.jsx)(Oe.a,{dividers:"paper"===b,children:Object(n.jsx)(me.a,{id:"scroll-dialog-description",ref:g,tabIndex:-1,children:y})}),Object(n.jsx)(he.a,{children:Object(n.jsx)(D.a,{onClick:f,color:"inherit",children:"Cerrar"})})]})]})}var fe=a(186),ve=a(185),ge=a(206),Ce=Object(u.a)({blackbutton:{color:"black"},title:{textAlign:"center"}});function ye(e){var t=e.veterinariaKey,a=Ce(),r=i.a.useState(!1),s=Object(o.a)(r,2),l=s[0],j=s[1],d=Object(c.useState)([]),b=Object(o.a)(d,2),u=(b[0],b[1]),h=Object(c.useState)(""),O=Object(o.a)(h,2),m=O[0],p=O[1],x=Object(c.useState)(""),f=Object(o.a)(x,2),g=f[0],C=f[1],y=function(){j(!1)};return Object(c.useEffect)((function(){return v.collection("comentarios").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),u([].concat(t))}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{classes:{root:a.blackbutton},onClick:function(){j(!0)},children:"Comentar"}),Object(n.jsxs)(ue.a,{open:l,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(pe.a,{id:"alert-dialog-title",classes:{root:a.title},children:"Agregar Comentario"}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(me.a,{id:"alert-dialog-description",children:Object(n.jsxs)(q.a,{container:!0,children:[Object(n.jsx)(q.a,{item:!0,md:12,children:Object(n.jsxs)(fe.a,{children:[Object(n.jsx)(ge.a,{htmlFor:"nombre",children:"Nombre"}),Object(n.jsx)(ve.a,{id:"nombre","aria-describedby":"nombre-helper",onChange:function(e){p(e.target.value)}})]})}),Object(n.jsx)(q.a,{item:!0,md:12,children:Object(n.jsx)(M.a,{id:"standard-multiline-static",label:"Comentario",multiline:!0,rows:4,defaultValue:"",onChange:function(e){C(e.target.value)}})})]})})}),Object(n.jsxs)(he.a,{children:[Object(n.jsx)(D.a,{classes:{root:a.blackbutton},onClick:function(){v.collection("comentarios").add({id:t,usuario:m,comentario:g}),alert("Comentario Guardado")},children:"Comentar"}),Object(n.jsx)(D.a,{classes:{root:a.blackbutton},onClick:y,children:"Cerrar"})]})]})]})}var ke=function(){return Object(n.jsx)("h3",{style:{height:"100%"},children:"Cargando Veterinarias"})},Ne=a(23),we=a(193),Se=a(194),Ee=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function Ae(e){var t=e.veterinariaKey,a=Ee(),i=Object(c.useState)({}),r=Object(o.a)(i,2),s=r[0],l=r[1],j=Object(c.useMemo)((function(){return s.votoArriba}),[s.votoArriba]),b=Object(c.useMemo)((function(){return s.votoAbajo}),[s.votoAbajo]),u=function(e){var a=e.find((function(e){return e.id===t}));return a||{idvoto:"",id:"",votoArriba:0,votoAbajo:0}};Object(c.useEffect)((function(){return v.collection("votos").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(Ne.a)({idvoto:e.id},e.data()))})),l(u(t))}))}),[u]);var h=function(e){return function(){"upvote"===e?v.collection("votos").doc(s.idvoto).set({id:s.id,votoArriba:j+1,votoAbajo:b}):v.collection("votos").doc(s.idvoto).set({id:s.id,votoArriba:j,votoAbajo:b+1})}};return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsxs)(d.a,{color:"inherit","aria-label":"upload picture",size:"small",children:[Object(n.jsx)(we.a,{onClick:h("upvote")}),j]}),Object(n.jsxs)(d.a,{color:"inherit","aria-label":"upload picture",size:"small",children:[Object(n.jsx)(Se.a,{onClick:h("downvote")}),b]})]})}var Ie=Object(u.a)((function(e){return{root:{maxWidth:345,margin:"1em",boxSizing:"border-box"},media:{height:240},search:Object(ae.a)({marginTop:"1em",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ne.b)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(ne.b)(e.palette.common.black,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"primary"},inputInput:Object(ae.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),containerCard:{display:"flex",justifyContent:"center"},comentar:{display:"flex",alignItems:"flex-end"}}}));function Ve(){var e=Ie(),t=Object(c.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(""),l=Object(o.a)(s,2),j=l[0],d=l[1];Object(c.useEffect)((function(){return v.collection("veterinarias").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r([].concat(t))}))}),[]),console.log(i);var u=new be.a(i,{keys:["nombre","direccion"],includeScore:!0}).search(j),h=j?u.map((function(e){return e.item})):i;var O=h.length?h.map((function(t,a){return Object(n.jsx)(q.a,{className:e.containerCard,item:!0,xs:12,sm:6,md:4,children:Object(n.jsxs)(ce.a,{className:e.root,children:[Object(n.jsxs)(se.a,{children:[Object(n.jsx)(re.a,{className:e.media,image:t.img}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h3",children:t.nombre}),Object(n.jsxs)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:["Direccion: ",t.direccion]}),Object(n.jsxs)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:["Horarios: ",t.horario]}),Object(n.jsxs)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:["Contacto: ",t.telefono]})]})]}),Object(n.jsxs)(oe.a,{className:e.comentar,children:[Object(n.jsx)(xe,{veterinariaKey:t.id}),Object(n.jsx)(ye,{veterinariaKey:t.id})]}),Object(n.jsx)(oe.a,{children:Object(n.jsx)(Ae,{veterinariaKey:t.id})})]})},a)})):Object(n.jsx)(ke,{});return Object(n.jsxs)("div",{children:[Object(n.jsx)(H.a,{maxWidth:"sm",children:Object(n.jsxs)("div",{className:e.search,children:[Object(n.jsx)("div",{className:e.searchIcon,children:Object(n.jsx)(de.a,{})}),Object(n.jsx)(le.a,{placeholder:"Buscar\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},value:j,onChange:function(e){var t=e.currentTarget,a=(void 0===t?{}:t).value;d(a)}})]})}),Object(n.jsx)(q.a,{container:!0,spacing:3,children:O})]})}var We=Object(u.a)((function(){return{list:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center"}}})),Le=function(){var e=We();return Object(n.jsxs)(q.a,{className:e.list,container:!0,children:[Object(n.jsx)("h1",{children:"Lista de Veterinarias"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Veterinaria Goberna"}),Object(n.jsx)("li",{children:"Veterinaria La Salle"}),Object(n.jsx)("li",{children:"Veterinaria Patitas"}),Object(n.jsx)("li",{children:"Hospital Veterinario Gonzalez Cat\xe1n"}),Object(n.jsx)("li",{children:"Veterinaria El Gran Danes"}),Object(n.jsx)("li",{children:"Matymar's Veterinaria"}),Object(n.jsx)("li",{children:"Veterinaria Huelay"}),Object(n.jsx)("li",{children:"Veterinaria Maya"}),Object(n.jsx)("li",{children:"Veterinaria Yenu Aiken"}),Object(n.jsx)("li",{children:"Argos"}),Object(n.jsx)("li",{children:"Consultorio Veterinario Veneros"}),Object(n.jsx)("li",{children:"Veterinaria Y Pet Shop Athena"})]})]})},Re=a(104),Pe=function(e){var t=e.component,a=Object(Re.a)(e,["component"]),i=Object(c.useContext)($).currentUser;return Object(n.jsx)(J.b,Object(Ne.a)(Object(Ne.a)({},a),{},{render:function(e){return i?Object(n.jsx)(t,Object(Ne.a)({},e)):Object(n.jsx)(J.a,{to:"/patitasCatan/login"})}}))},ze=Object(u.a)((function(){return{list:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",margin:"0.5em",height:"100%"}}})),Te=function(){var e=ze();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(q.a,{className:e.list,container:!0,children:[Object(n.jsx)("h1",{children:"Bienvenidos !!"}),Object(n.jsx)("h3",{children:"Te ayudamos a encontrar la mejor veterinaria para tu mascota"}),Object(n.jsx)("p",{children:"En Patitas Catan encontraras la informacion mas actualizada sobre las veterinarias que se encuentren en la ciudad de Gonzalez Catan. Podras dejar tus comentarios y votar positivamente o negativamente, esto ayudara a los distintos usuarios a elegir el mejor centro de atencion para sus mascotas."})]})})};var Be=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(_,{children:[Object(n.jsx)(Q.a,{children:Object(n.jsxs)("div",{className:"app-container",children:[Object(n.jsx)(w,{Link:Q.b}),Object(n.jsxs)(J.d,{children:[Object(n.jsx)(J.b,{exact:!0,path:"/patitasCatan/",children:Object(n.jsx)(Te,{})}),Object(n.jsx)(Pe,{path:"/patitasCatan/veterinarias",component:Ve}),Object(n.jsx)(Pe,{path:"/patitasCatan/lista",component:Le}),Object(n.jsx)(J.b,{path:"/patitasCatan/login",children:Object(n.jsx)(H.a,{maxWidth:"sm",children:Object(n.jsx)(te,{})})}),Object(n.jsx)(J.b,{path:"/patitasCatan/registro",children:Object(n.jsx)(H.a,{maxWidth:"sm",children:Object(n.jsx)(Z,{})})})]})]})}),Object(n.jsx)(P,{})]})})},Ge=a(101),De=a(200),Ke=Object(Ge.a)({palette:{primary:{main:"#92CCCE"}}});s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(De.a,{theme:Ke,children:Object(n.jsx)(Be,{})})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.e4e814ee.chunk.js.map